{"version":3,"sources":["../../../../../nodes/Airtop/actions/file/load.operation.ts"],"sourcesContent":["import type { IExecuteFunctions, INodeExecutionData, INodeProperties } from 'n8n-workflow';\nimport { NodeOperationError } from 'n8n-workflow';\n\nimport { pushFileToSession, triggerFileInput } from './helpers';\nimport { sessionIdField, windowIdField, elementDescriptionField } from '../common/fields';\n\nconst displayOptions = {\n\tshow: {\n\t\tresource: ['file'],\n\t\toperation: ['load'],\n\t},\n};\n\nexport const description: INodeProperties[] = [\n\t{\n\t\t...sessionIdField,\n\t\tdescription: 'The session ID to load the file into',\n\t\tdisplayOptions,\n\t},\n\t{\n\t\t...windowIdField,\n\t\tdescription: 'The window ID to trigger the file input in',\n\t\tdisplayOptions,\n\t},\n\t{\n\t\tdisplayName: 'File ID',\n\t\tname: 'fileId',\n\t\ttype: 'string',\n\t\tdefault: '',\n\t\trequired: true,\n\t\tdescription: 'ID of the file to load into the session',\n\t\tdisplayOptions,\n\t},\n\t{\n\t\t...elementDescriptionField,\n\t\tdescription: 'Optional description of the file input to interact with',\n\t\tplaceholder: 'e.g. the file upload selection box',\n\t\tdisplayOptions,\n\t},\n];\n\nexport async function execute(\n\tthis: IExecuteFunctions,\n\tindex: number,\n): Promise<INodeExecutionData[]> {\n\tconst fileId = this.getNodeParameter('fileId', index, '') as string;\n\tconst sessionId = this.getNodeParameter('sessionId', index, '') as string;\n\tconst windowId = this.getNodeParameter('windowId', index, '') as string;\n\tconst elementDescription = this.getNodeParameter('elementDescription', index, '') as string;\n\n\ttry {\n\t\tawait pushFileToSession.call(this, fileId, sessionId);\n\t\tawait triggerFileInput.call(this, fileId, windowId, sessionId, elementDescription);\n\n\t\treturn this.helpers.returnJsonArray({\n\t\t\tsessionId,\n\t\t\twindowId,\n\t\t\tdata: {\n\t\t\t\tmessage: 'File loaded successfully',\n\t\t\t},\n\t\t});\n\t} catch (error) {\n\t\tthrow new NodeOperationError(this.getNode(), error as Error);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,0BAAmC;AAEnC,qBAAoD;AACpD,oBAAuE;AAEvE,MAAM,iBAAiB;AAAA,EACtB,MAAM;AAAA,IACL,UAAU,CAAC,MAAM;AAAA,IACjB,WAAW,CAAC,MAAM;AAAA,EACnB;AACD;AAEO,MAAM,cAAiC;AAAA,EAC7C;AAAA,IACC,GAAG;AAAA,IACH,aAAa;AAAA,IACb;AAAA,EACD;AAAA,EACA;AAAA,IACC,GAAG;AAAA,IACH,aAAa;AAAA,IACb;AAAA,EACD;AAAA,EACA;AAAA,IACC,aAAa;AAAA,IACb,MAAM;AAAA,IACN,MAAM;AAAA,IACN,SAAS;AAAA,IACT,UAAU;AAAA,IACV,aAAa;AAAA,IACb;AAAA,EACD;AAAA,EACA;AAAA,IACC,GAAG;AAAA,IACH,aAAa;AAAA,IACb,aAAa;AAAA,IACb;AAAA,EACD;AACD;AAEA,eAAsB,QAErB,OACgC;AAChC,QAAM,SAAS,KAAK,iBAAiB,UAAU,OAAO,EAAE;AACxD,QAAM,YAAY,KAAK,iBAAiB,aAAa,OAAO,EAAE;AAC9D,QAAM,WAAW,KAAK,iBAAiB,YAAY,OAAO,EAAE;AAC5D,QAAM,qBAAqB,KAAK,iBAAiB,sBAAsB,OAAO,EAAE;AAEhF,MAAI;AACH,UAAM,iCAAkB,KAAK,MAAM,QAAQ,SAAS;AACpD,UAAM,gCAAiB,KAAK,MAAM,QAAQ,UAAU,WAAW,kBAAkB;AAEjF,WAAO,KAAK,QAAQ,gBAAgB;AAAA,MACnC;AAAA,MACA;AAAA,MACA,MAAM;AAAA,QACL,SAAS;AAAA,MACV;AAAA,IACD,CAAC;AAAA,EACF,SAAS,OAAO;AACf,UAAM,IAAI,uCAAmB,KAAK,QAAQ,GAAG,KAAc;AAAA,EAC5D;AACD;","names":[]}