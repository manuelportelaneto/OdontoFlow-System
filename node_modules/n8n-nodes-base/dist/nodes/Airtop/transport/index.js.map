{"version":3,"sources":["../../../../nodes/Airtop/transport/index.ts"],"sourcesContent":["import type {\n\tIDataObject,\n\tIExecuteFunctions,\n\tILoadOptionsFunctions,\n\tIHttpRequestMethods,\n\tIHttpRequestOptions,\n} from 'n8n-workflow';\n\nimport type { IAirtopResponse } from './types';\nimport { BASE_URL, N8N_VERSION } from '../constants';\n\nconst defaultHeaders = {\n\t'Content-Type': 'application/json',\n\t'x-airtop-sdk-environment': 'n8n',\n\t'x-airtop-sdk-version': N8N_VERSION,\n};\n\nexport async function apiRequest(\n\tthis: IExecuteFunctions | ILoadOptionsFunctions,\n\tmethod: IHttpRequestMethods,\n\tendpoint: string,\n\tbody: IDataObject = {},\n\tquery: IDataObject = {},\n) {\n\tconst options: IHttpRequestOptions = {\n\t\theaders: defaultHeaders,\n\t\tmethod,\n\t\tbody,\n\t\tqs: query,\n\t\turl: endpoint.startsWith('http') ? endpoint : `${BASE_URL}${endpoint}`,\n\t\tjson: true,\n\t};\n\n\tif (Object.keys(body).length === 0) {\n\t\tdelete options.body;\n\t}\n\n\treturn (await this.helpers.httpRequestWithAuthentication.call(\n\t\tthis,\n\t\t'airtopApi',\n\t\toptions,\n\t)) as IAirtopResponse;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,uBAAsC;AAEtC,MAAM,iBAAiB;AAAA,EACtB,gBAAgB;AAAA,EAChB,4BAA4B;AAAA,EAC5B,wBAAwB;AACzB;AAEA,eAAsB,WAErB,QACA,UACA,OAAoB,CAAC,GACrB,QAAqB,CAAC,GACrB;AACD,QAAM,UAA+B;AAAA,IACpC,SAAS;AAAA,IACT;AAAA,IACA;AAAA,IACA,IAAI;AAAA,IACJ,KAAK,SAAS,WAAW,MAAM,IAAI,WAAW,GAAG,yBAAQ,GAAG,QAAQ;AAAA,IACpE,MAAM;AAAA,EACP;AAEA,MAAI,OAAO,KAAK,IAAI,EAAE,WAAW,GAAG;AACnC,WAAO,QAAQ;AAAA,EAChB;AAEA,SAAQ,MAAM,KAAK,QAAQ,8BAA8B;AAAA,IACxD;AAAA,IACA;AAAA,IACA;AAAA,EACD;AACD;","names":[]}